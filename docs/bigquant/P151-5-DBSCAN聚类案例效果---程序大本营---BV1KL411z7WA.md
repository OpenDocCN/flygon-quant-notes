# P151：5-DBSCAN聚类案例效果 - 程序大本营 - BV1KL411z7WA

![](img/d553d33c9f54dc9a1f4b145269759aeb_0.png)

好那么兵来将挡，水来土掩，咱们接下来呢我们就看一下db死。

![](img/d553d33c9f54dc9a1f4b145269759aeb_2.png)

看它的划分效果，来一个三级标题，db此看它的聚类效果，咱们呢一起来看一下啊，这个db看它的聚类效果好，那么此时呢我们就创建一个db scan，声明，咱们db看里边呢e p s这个参数就表示半径。

这个半径是需要调的啊，那我们再给一个mean sample，咱们就给一个三，此时呢咱们就使用咱们创建的db看，对于我们的数据进行一个训练，咱们feat一下x，然后呢调用db看它里边的参数叫labels。

那我们的db看呢咱不需要去predict，因为你只要训练完之后，咱们就可以得到每个样本它的标签，这个标签就是它的分类结果，那么我们就接收一下吧，咱们依然叫y杠，此时呢咱们画一下图啊，plt。

scanner原数据放进去，冒号零，这是横坐标，一纵坐标c，我们给一个就等于我们刚刚计算出来的y杠。

![](img/d553d33c9f54dc9a1f4b145269759aeb_4.png)

此时你看我一执行诶。

![](img/d553d33c9f54dc9a1f4b145269759aeb_6.png)

各位小伙伴，看看看到了吧，你看这个结果出来了。

![](img/d553d33c9f54dc9a1f4b145269759aeb_8.png)

现在你看咱们所划分的这个结果，是不是就比较好呀，调整一下啊，调整一下咱们的尺寸，我们给一个figure size。



![](img/d553d33c9f54dc9a1f4b145269759aeb_10.png)

五和五，看到了吗。

![](img/d553d33c9f54dc9a1f4b145269759aeb_12.png)

结果出来了，是不是，你看一下这个里边有几个颜色呀，黄色的，蓝绿色的。

![](img/d553d33c9f54dc9a1f4b145269759aeb_14.png)

还有咱们蓝色的，是不是啊，还有咱们一个紫色的a。

![](img/d553d33c9f54dc9a1f4b145269759aeb_16.png)

咱们怎么会出现这四类呢，看了为什么会出现这四类呢。

![](img/d553d33c9f54dc9a1f4b145269759aeb_18.png)

你看咱们这个e p s如果我要调大啊，咱们把它调调大成二啊，你看一下会怎么样。

![](img/d553d33c9f54dc9a1f4b145269759aeb_20.png)

看到了吧，这个eps调大成二，现在你就发现只有什么。

![](img/d553d33c9f54dc9a1f4b145269759aeb_22.png)

是不是只有一类，为什么调大它就只有一类了呢，半径大了，是不是就把它囊括全部把把这个盖囊括进去了，对不对，你看如果我要很小呢。



![](img/d553d33c9f54dc9a1f4b145269759aeb_24.png)

0。001呢，你看执行一下，咱们给0。001。

![](img/d553d33c9f54dc9a1f4b145269759aeb_26.png)

这个效果没出来是吧，咱们给0。1啊，看你看我给0。1。

![](img/d553d33c9f54dc9a1f4b145269759aeb_28.png)

现在你发现看了吧，咱们给0。1，这个时候你看这个边上这个点是不是就多了，看到了吧。

![](img/d553d33c9f54dc9a1f4b145269759aeb_30.png)

边上那个点好，那么我们这个miss，你看这个边上这个点为什么多了。

![](img/d553d33c9f54dc9a1f4b145269759aeb_32.png)

你知道这个紫色这个紫色点它表示什么吗。

![](img/d553d33c9f54dc9a1f4b145269759aeb_34.png)

来我们将咱们的歪盖，咱们调用np。uni q，我们将y杠输出一下。

![](img/d553d33c9f54dc9a1f4b145269759aeb_36.png)

现在你能够发现咱们有什么，这是不是出现了个-1呀，剩下的是不是012，你知道这个-1代表什么吗，知道这个-1表示什么吗。



![](img/d553d33c9f54dc9a1f4b145269759aeb_38.png)

看这个-1啊。

![](img/d553d33c9f54dc9a1f4b145269759aeb_40.png)

咱们这个地方所出现的-1，它就表示异常值，看这个-1就表示异常值，就表示咱们的离群点，啊它就表示离群点儿，所以说我们能不能根据这个-1把离群点儿，给它过滤掉呀，能不能，看来你知道该怎么操作吗。



![](img/d553d33c9f54dc9a1f4b145269759aeb_42.png)

现在呢咱们过滤这个离群点儿啊，那么我们就是歪盖，咱们让他怎么样，不等于-1，这个是不是就是一个条件呀，cnd看打印输出一下。



![](img/d553d33c9f54dc9a1f4b145269759aeb_44.png)

看到了吧，这就是一个条件。

![](img/d553d33c9f54dc9a1f4b145269759aeb_46.png)

有了这个条件，咱们就过滤数据，我们将上面这行这两行代码输出啊。

![](img/d553d33c9f54dc9a1f4b145269759aeb_48.png)

复制一下粘贴过来。

![](img/d553d33c9f54dc9a1f4b145269759aeb_50.png)

对于x呢，咱们来一个中括号c n d是吧，后面这个纵坐标也来一个c o n d，那这个c呢代表颜色也来一个中国c n d。



![](img/d553d33c9f54dc9a1f4b145269759aeb_52.png)

你看这个时候我一执行出来这个结果。

![](img/d553d33c9f54dc9a1f4b145269759aeb_54.png)

看还有咱们那个边上这些这个呃这个杂点吗。

![](img/d553d33c9f54dc9a1f4b145269759aeb_56.png)

看到了吗，你看就是我们右上角这一簇点。

![](img/d553d33c9f54dc9a1f4b145269759aeb_58.png)

你看是不是就没有这些点了。

![](img/d553d33c9f54dc9a1f4b145269759aeb_60.png)

大家要注意啊，你看当我们是四种颜色的时候，咱们最小那个值-1，它是不是咱们这个紫色紫色呀是吧。

![](img/d553d33c9f54dc9a1f4b145269759aeb_62.png)

那现在我们进行了数据的过滤。

![](img/d553d33c9f54dc9a1f4b145269759aeb_64.png)

咱们进行了离散点的过滤之后，你看此时咱们外边这个圈是不是变成紫色了。

![](img/d553d33c9f54dc9a1f4b145269759aeb_66.png)

因为你的类别少了，所以说呢咱们再进行颜色，给它上色的时候，给他这个绘制颜色的时候，你看它依然是这种颜色啊，依然是从这个当中选了三种颜色是吧。



![](img/d553d33c9f54dc9a1f4b145269759aeb_68.png)

因为我们这个异常指点怎么样已经给消失了，所以说这个就是咱们db看它的使用。

![](img/d553d33c9f54dc9a1f4b145269759aeb_70.png)

那么当然这个值可以调，你要调看结果是吧，那你看我们给一个六呢。

![](img/d553d33c9f54dc9a1f4b145269759aeb_72.png)

你看这个时候是不是也能够出，出现这一系列的结果呀。

![](img/d553d33c9f54dc9a1f4b145269759aeb_74.png)

看这都可以调啊，这个mean sample都是可以调的啊，好，那么这个呢就是我们db看它的一个这个，聚类的一个应用，好，大家现在明白该怎么使用这个db scan，进行操作了吧。



![](img/d553d33c9f54dc9a1f4b145269759aeb_76.png)

好那么嗯咱们接下来呢我们再进行一个介绍，我们从sklearn matrix下，咱们import咱们昨天所学所学的这个轮廓系数，咱们这个轮廓系数呢叫做silly halted sc是吧。

我们把最后这个i删除再来执行，就导包导进来了，咱们使用city halted score是吧，我们操作一下，那此时呢咱们将x放进去。



![](img/d553d33c9f54dc9a1f4b145269759aeb_78.png)

咱们将目标值y盖放进去，这个时候你看我执行他的得分。

![](img/d553d33c9f54dc9a1f4b145269759aeb_80.png)

是不是0。21呀，看也就是说我们使用db看预测出来的结果。

![](img/d553d33c9f54dc9a1f4b145269759aeb_82.png)

咱们是不是依然可以使用啊，这个cd呃，这个轮廓系数来对它进行评分啊，看他呢咱们db看，我们可以使用轮廓系数来进行评分。



![](img/d553d33c9f54dc9a1f4b145269759aeb_84.png)