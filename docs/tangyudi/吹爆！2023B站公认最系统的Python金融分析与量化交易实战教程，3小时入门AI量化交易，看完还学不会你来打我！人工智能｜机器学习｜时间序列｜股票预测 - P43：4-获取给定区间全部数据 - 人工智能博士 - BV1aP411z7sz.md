# 吹爆！2023B站公认最系统的Python金融分析与量化交易实战教程，3小时入门AI量化交易，看完还学不会你来打我！人工智能｜机器学习｜时间序列｜股票预测 - P43：4-获取给定区间全部数据 - 人工智能博士 - BV1aP411z7sz

咱写一写，是不是说现在你的一个日期它是一个序列，然后你会查其中一天，那你会查其中一天，那每一天，说白了，咱写个复循环呗，不如，你run一下，run什么，咱们当前就看一看一共我是有多少天是不是就行了。

好了，你这个序列，你不是有众多天吗，看你这个日期呢，日期在上面，看咱日期一共多长，那相当于是有多少天吧，编列其中的我的每一天数据，然后呢，对我每一天数据，我都要干什么，都要去获取一下当前它的一个值吧。

好了，我这块直接复制就行，对于每一天数据，我都要获取它的一个值，只不过这回，这回这里边，它就是不是传一个0了，而是传什么，应该是传一个i是吧，获取它第i天实际的一个值，然后它的值来说。

它返回的是一个三维的，我不需要，还是IOC一下，IOC当中，第一个指标就是一个0，然后第二个也是0，然后第三个指标取全部，因为有用的，全在第三个指标当中吧，刚才这个是不值，是为大家打印来看了。

这样我就能取到当前它的，就是每一天它的一个数据了，那行了，那取完每一天数据之后，那我最后啊，你不能只把每一天的告诉我，你是不是要做一个汇总啊，我希望能这样，我做一个数据啊，我说这样，第一个维度。

它是一个日期，代表它是哪一天，比如2019年3月8号，然后第二个指标，第二个指标可能是它的一个股票的一个名字，是吧，然后第三个指标，可能是它的一个实际的指标值，一个value，到底是哪多少吧。

那我是不是说，我得构建一个新的，大点的DataFrame，然后呢，我这里录完每一天数据之后，把每一天数据拼接到哪啊，拼接到我当前组成的一个整体的一个DataFrame当中吧，Factors。

然后Factors的一个Datas吧，等于一下，新建一个DataFrame，一会儿呢，咱拿这个DataFrame往里去传数据，我说先构建一个，这个就是总的，就是一个总表吧，然后这个就是一个每天的。

每天的数据，好了，那现在我们已经有了一个每天数据，然后呢，在这里，我们先给它指定一个列明吧，在这里，我说我现在也是重新的去创建一个DataFrame，然后一会儿对DataFrame进行一个拼接操作。

好了，我说当前我的一个Data，等于一个新建一个DataFrame，新建一个DataFrame，然后在我当前的DataFrame当中，我看一看当前Pandas当中，噢。

Pandas当中我直接把DataFrame导进来了吧，所以说在这里可以直接去用，再创建一个新的DataFrame，然后呢，我就把实际它的一个值给它传进去就行了，然后这个给它起个名字吧。

它就是一个DataFrame了，不是这么一列数了，行了，咱们现在有了一列值了，有一列值还没完，还有什么？，在这里给它起个名字，这个列你得告诉我它叫什么名字是吧，咱们自己来起一个，起什么名都行。

我们来起一个，等于它的一个名字传进去，它就是这个Factor它的一个实际指标值等于多少吧，好了，这样我们现在创建一个DataFrame当中，只有一列数据，我们还给它起了一列名字。

那么刚才说就是在这个DataFrame当中，哎呀，你不光定个值，你是不是还得有一些日期的信息啊，好了，我说这样，你再新加一列吧，新加一列，我说指定的名字就是一个日期，日期等于什么？。

在这里你说我们现在有没有它是哪一天啊，是不是当前遍历到DI天了，我把DI天数据加进去是不是就行了，这样我现在构建了一个，就是每一次学问当中我都会构建一个DataFrame，这个DataFrame有两列。

一列就是我的一个日期，一列就是它的一个value值，咱们现在有了吧，好了，那我说我现在有了所有的操作了，那我是不是应该怎么样，把这些个数据做一个拼接操作，什么拼接。

你复循环每一次都得一个新的DataFrame，你是不是把每个DataFrame放到这个总表当中，最后我要的是什么，就是这样一个总表吧，好了，咱们来执行拼接操作，pandas。concat一下。

拼接当中需要传件参数，谁跟谁拼呢，好了，先把咱们最开始，我说我构建的一个Datas，拼到我的总表当中，把谁拼上去呢，咱刚才是不是自己，我构建了一个DataFrame。

把咱们当下这个DataFrame给构进去，我说拼接成，拼接到总表中吧，行了，这就是执行一个拼接操作，我们现在执行一下，看有没有什么问题，这一块的速度肯定会比较慢，因为这里它是咱们现在指定什么。

我们是指定了一个时间间隔，是有这么一年吧，19年1月1号到这个20年1月1号，时间间隔会比较久，所以说它这速度相对来说会比较慢，到时候大家自己玩的时候，啊，没有说完就行了，没有后话了。

大家自己玩的时候也不用了，也不用再改小了，一年这个时间挺快的，很快就出来了，好了，出来完之后，咱打印一下当前hide，看看跟我想要的是不是一样的，哎哟，这个Disk Frame当中，总表来说有点问题。

咱来检查一下，这一块拼接完，拼接完之后，咱疏忽了一点什么，这个表实验数啥也没有，我这个拼接完就是光拼了，怎么样，没复植吧，咱们是不是重新复植，要不然相当于这个表始终没东西吧，这不行。

咱再来再重新执行一下，这回重新执行完之后，咱再点hide看一看，当前我们的一个表当中，是不是按照我的一个想要的，有我的一个日期，然后有它实际指标的一个值，然后你还得有什么。

还有这个hide有当前这个股票它是什么吧，我们需要这几个指标来看一看，稍微再等几秒，咱们就来执行一下，好了，你看一下这些是不是我们想要的，股票，它具体是什么不管了，它的一个值是不是有了。

它的一个日期是不是有了，这样是咱们现在完成第一步，把我们这个数据全部给它取出来了，取的过程当中其实挺麻烦的，但是也没什么好办法，你不能就是有个hider bar，自动一天一天给你执行。

所以说咱必须得自己完成这样一个操作，把数据取出来了。

![](img/8868b6f13aff24ad0c423fb5e97c041a_1.png)